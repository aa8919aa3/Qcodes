# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

name: "QCoDeS CI"

trigger:
  branches:
    include:
      - master

jobs:
  - job: "run_the_tests"
    pool:
      vmImage: "vs2017-win2016"

    steps:
      - task: UsePythonVersion@0
          inputs:
            versionSpec: '3.6'
            architecture: 'x64'
      - script: pip install --upgrade pip
      - script: pip install -r requirements.txt
      - script: pip install -r test_requirements.txt
      - script: cd qcodes\tests
      - script: pytest
