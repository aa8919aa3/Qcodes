spec: 1.0
devices:
  AimTTÄ°:
    error:
      status_register:
        - q: "*STB?"
          command_error: 5
          query_error: 2
    eom:
      GPIB INSTR:
        q: "\n"
        r: "\n"
    channels:
      card:
        ids: ['ch1']
        can_select: True
        properties:
          volt:
            default: 5.0
            getter:
              q: "print(V{ch_id}?)"
              r: "{}"
            setter:
              q: "V{channel} {{}}"
            specs:
              type: float

          volt_step_size:
            default: 0.01
            getter:
              q: "print(DELTAV{channel_id})"
              r: "{}"
            setter:
              q: "DELTAV{channel} {{}}"
            specs:
              type: float

          curr:
            default: 0.135
            getter:
              q: "print(I{channel_id}?)"
              r: "{}"
            setter:
              q: "I{channel} {{}}"
            specs:
              type: float

          curr_step_size:
            default: 0.001
            getter:
              q: "print(DELTAI{channel_id})"
              r: "{}"
            setter:
              q: "DELTAI{channel} {{}}"
            specs:
              type: float

          output:
            default: 0
            getter:
              q: "print(OP{channel}?)"
              r: "{:e}"
            setter:
              q: "OP{channel} {{}}"
            specs:
              type: int
              valid: [0, 1]

    dialogues:
      - q: "*IDN?"
        r: "THURLBY THANDAR, PL601-P, 514710, 3.05-4.06"
resources:
  "ASRL4":
    device: AimTTi
