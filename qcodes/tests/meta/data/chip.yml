instruments:
  MockChip_123:
    type: qcodes.instrument.meta.Chip
    init:
      devices:
        device1:
          gate: foo
          source: bar
          drain: baz

      set_initial_values_on_load: true
      initial_values:
        device1:
          gate.step: 5e-4
          gate.inter_delay: 12.5e-4

      connections:
        foo:
          - dac.ch01.voltage
        bar:
          - lockin.frequency
          - lockin.amplitude
          - lockin.phase
          - lockin.time_constant
        baz:
          - lockin.X
          - lockin.Y

  field:
    type: qcodes.instrument.meta.MetaInstrument
    init:
      aliases:
        X:
          - field_x.field
        ramp_rate:
          - field_x.ramp_rate
        ramp_X:
          - field_x.ramp_rate
          - field_x.field
      set_initial_values_on_load: true
      initial_values:
        ramp_rate: 0.02
      setters:
        X:
          method: field_x.set_field
          block: false
      units:
        X: T
        ramp_rate: T/min

  switch:
    type: qcodes.instrument.meta.MetaChannelInstrument
    init:
      channels: dac.channels
      aliases:
        state:
          - dac_output
          - smc
          - gnd
          - bus
